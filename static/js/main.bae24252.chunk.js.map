{"version":3,"sources":["assets/trashIcon.svg","assets/plusSign.svg","assets/placeholder.svg","assets/openIcon.svg","assets/wavy-logo.svg","assets/minusSign2.svg","assets/trashTumbleIcon.svg","assets/importButton.svg","assets/exportButton.svg","assets/dateAndTagsIcon.svg","assets/completionTick.svg","services/errorHandler.js","services/FileObj.js","services/localStorage.js","services/AppData.js","services/Subscriber.js","services/Subscription.js","services/dataController.js","components/File.js","components/Node.js","components/Main.js","components/Timeline.js","components/NavBar.js","components/DateAndTagsEditor.js","assets/back-arrow.svg","webpack:///./src/assets/completionTick.svg?b967","components/AddNoteModal.js","components/UploadModal.js","theme/globalStyles.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","errorHandler","e","console","error","FileObj","uid","fileRef","activeTimeStamp","timeStamps","tags","type","name","text","size","this","Object","keys","forEach","key","formatDate","prototype","dateTime","isFormatedDate","makeMinTwoDigits","n","str","length","d","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","unFormatDate","date","len","substr","match","getActiveDate","setActiveDate","flagMissingData","isMissing","fileMissing","localDB","Dexie","wipeAllData","a","files","clear","appData","delete","importData","file","exportData","backup","importInto","Error","exportDB","blob","Blob","writeFile","ref","fileToArrayBuffer","data","add","message","readFile","get","dataObj","readAppData","output","JSON","parse","fileObjs","values","map","fileObj","writeAppData","stringify","put","Promise","resolve","reject","reader","FileReader","addEventListener","result","readAsArrayBuffer","AppData","handleFileObjsChange","fileObjsUpdate","lastModified","basedOn","changeLog","init","Subscriber","stateSetter","update","bind","Subscription","list","subscribe","unsubscribe","version","stores","onUpdate","rebase","log","push","func","assign","newAppData","op","filter","sub","activeNode","setActiveFileObjs","setNodesList","setActiveNode","__proto__","hasOwnProperty","fileObjDate","setToLatestNode","lastFileObj","sort","b","nodesListSubcription","nodes","path","head","activeFileObjs","fileObjsSubcription","from","to","getFileObjs","uploadsArr","upload","makeFileRef","checkedType","checkFileType","modified","now","activeDate","fObjsWithSameFile","fObj","segs","split","uploadsList","uploadsListSubcription","uploadFuncs","set","arr","submit","addFiles","cancel","deleteUpload","appendedUploads","uids","uploadMeta","newUploadsList","slice","index","findIndex","newUploads","newUploadsArr","newUploadCount","formatNewUpload","Wrapper","styled","div","Img","img","Note","props","theme","offWhite","darkGrey","FileIcon","background","TrashButton","button","red","OptionsContainer","FileContainer","Time","time","orange","blue","Link","FileNotFound","File","showTime","isMain","useState","placeholder","setFile","enableEditOptions","enableDownload","useRef","useEffect","refCurrent","current","observer","IntersectionObserver","entries","isIntersecting","getFile","then","url","URL","createObjectURL","unobserve","observe","DownloadWrapper","info","user","tag","join","Math","pow","toFixed","enabled","title","href","download","children","className","onClick","src","trashIcon","alt","includes","opacity","nineDigitStr","i","charCodeAt","r","g","max255","numStr","parseInt","invertN","color","charsToColour","section","Node","lastTime","main","Header","header","PlusImg","StartHelp","Main","editMode","showUploads","setShowUploads","plusSign","obj","toDateString","getActiveNodeDate","greyBlueTransp","greyBlue","darkBlue","lightBlue","Line","Title","Year","Months","Month","Dates","DateItem","Gap","Bar","wide","ExpandButton","Timeline","showNodes","setShowNodes","nodesList","lastDate","scrollTo","scrollIntoView","behavior","inline","TimeLine","year","React","createRef","month","monthStr","totalBars","nodeDate","isActive","onLoad","openTimelineIcon","NavBarContainer","Logo","ButtonContainer","ToggleModalButton","MinusImg","EditModeButton","ImportExportTools","ImportButtonInput","input","ImportButtonLabel","label","ImportButtonIcon","ExportButtonContainer","HiddenDownloadLink","NavBar","setEditMode","downloadStatus","setDownloadStatus","downloadLinkRef","exportTimeLine","toString","click","logo","minusSign","EditButton","id","accept","onChange","importTimeLine","target","htmlFor","ImportButton","ExportButton","EditorBox","isGlobal","baseCss","css","lightGrey","EditorForm","grey","Label","LineBreak","br","Select","select","Option","option","Input","TagLists","ul","Tag","li","DeleteBtn","span","DateAndTagsEditor","uploads","isOpen","setIsOpen","formatForyyyyMMdd","formatForHHMM","setValues","Set","setTags","handleCustomValueChange","value","cleanedValue","replace","newTags","userDatePlusTime","EditorIcon","ariaLabel","disabled","onKeyPress","indexOf","removeTag","_extends","arguments","source","call","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","transform","fill","width","height","_ref","svgRef","viewBox","ForwardRef","forwardRef","fontSize","fontFamily","x","y","ModalWindow","NotesForm","formControlBase","Button","NotesArea","textarea","AddNoteModal","close","notesTitle","setNotesTitle","notesBody","setNotesBody","hasNotes","UploadModalWrapper","AddedFiles","ModalTitle","h2","FileList","FileItem","FileName","p","DeleteButton","GlobalWrapper","ButtonGroup","ToolsGroups","AddNoteButton","FileUploadInput","FileUploadLabel","UploadModal","noteModalOpen","setNoteModalOpen","setUploads","modal","fileName","toLowerCase","aria-label","multiple","completionTick","veryDarkBlue","blueGradient","white","green","darkBlueTransp","GlobalStyle","createGlobalStyle","App","isLocalhost","Boolean","window","location","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onSuccess","catch","ReactDOM","render","StrictMode","document","getElementById","process","origin","fetch","headers","response","contentType","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.bae24252.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/trashIcon.7aeb7eec.svg\";","module.exports = __webpack_public_path__ + \"static/media/plusSign.d940466c.svg\";","module.exports = __webpack_public_path__ + \"static/media/placeholder.a8a9abfe.svg\";","module.exports = __webpack_public_path__ + \"static/media/openIcon.c2d348c7.svg\";","module.exports = __webpack_public_path__ + \"static/media/wavy-logo.5fa604da.svg\";","module.exports = __webpack_public_path__ + \"static/media/minusSign2.e2ee8f29.svg\";","module.exports = __webpack_public_path__ + \"static/media/trashTumbleIcon.8a43959d.svg\";","module.exports = __webpack_public_path__ + \"static/media/importButton.0e1a5dbb.svg\";","module.exports = __webpack_public_path__ + \"static/media/exportButton.9eb61a1b.svg\";","module.exports = __webpack_public_path__ + \"static/media/dateAndTagsIcon.3f1d548c.svg\";","module.exports = __webpack_public_path__ + \"static/media/completionTick.7c2c771b.svg\";","export default function errorHandler(e) {\n    console.error(e);\n    // Could Do: setup external log, maybe a google sheet to push errors to\n}","export default function FileObj({uid, fileRef, activeTimeStamp, timeStamps, tags, type, name, text, size}) {\n    this.uid = uid;\n    this.timeStamps = {};\n    this.activeTimeStamp = activeTimeStamp || 'modified';\n    this.tags = tags || [];\n    this.fileRef = fileRef;\n    this.name = name;\n    this.text = text || '';\n    this.type = type;\n    this.size = size;\n    Object.keys(timeStamps).forEach(key => this.timeStamps[key] = this.formatDate(timeStamps[key]));\n}\nFileObj.prototype.formatDate = function(dateTime) {\n    if (this.isFormatedDate(dateTime)) { \n        return dateTime\n    }\n    const makeMinTwoDigits = n => {\n        const str = n+'';\n        return str.length === 1 ? '0'+str : str\n    };\n    const d = new Date(dateTime);\n    return d.getFullYear() +\n        makeMinTwoDigits(d.getMonth()+1) +\n        makeMinTwoDigits(d.getDate()) +\n        makeMinTwoDigits(d.getHours()) +\n        makeMinTwoDigits(d.getMinutes()) +\n        makeMinTwoDigits(d.getSeconds());\n}\nFileObj.prototype.unFormatDate = function(date) {\n    if (this.isFormatedDate(date)) {\n        const len = date.length;\n        return `${len > 3 && date.substr(0,4)}${len > 5 && '-'+date.substr(4,2)}${len > 7 && '-'+date.substr(6,2)}${len > 9 && ' '+date.substr(8,2)}${len > 11 && ':'+date.substr(10,2)}${len > 13 && ':'+date.substr(10,2)}`\n    }\n    else {\n        console.error(date+' not formatted!')\n    }\n}\nFileObj.prototype.isFormatedDate = function(date) {\n    return !(typeof date !== 'string' || date.match(/\\D/) || date.length !== 14)\n}\nFileObj.prototype.getActiveDate = function() {\n    return this.timeStamps[this.activeTimeStamp];\n}\nFileObj.prototype.setActiveDate = function(name, dateTime) {\n    this.activeTimeStamp = name;\n    this.timeStamps[name] = this.formatDate(dateTime);\n}\nFileObj.prototype.flagMissingData = function(isMissing = true) {\n    this.fileMissing = isMissing;\n}","import Dexie from 'dexie';\nimport errorHandler from './errorHandler';\nimport FileObj from './FileObj';\nimport {exportDB, importInto} from \"dexie-export-import\";\n\nconst localDB = new Dexie('user_dbac');\nlocalDB.version(1).stores({\n    appData: 'ref',\n    files: 'ref',\n});\n\nasync function wipeAllData() {\n    await localDB.files.clear();\n    await localDB.appData.clear();\n    await localDB.files.delete('appData');\n    await localDB.appData.delete('files');\n    return true\n}\n\nasync function importData(file) {\n    try {\n        const backup = await exportData();\n        try {\n            await wipeAllData();\n            await importInto(localDB, file);\n            return true\n        }\n        catch (e) {\n            await wipeAllData();\n            importData(backup);\n            errorHandler(e);\n            return false \n        }\n    } catch (e) {\n        errorHandler(e);\n        throw Error('Unable to make a backup before import!')\n    }\n}\n\nasync function exportData() {\n    try {\n        const blob = await exportDB(localDB);\n        const file = await new Blob([blob], {type: 'application/wavy'});\n        return file\n    }\n    catch (e) {\n        errorHandler(e);\n        return e\n    }\n}\n\nasync function writeFile(ref, file) {\n    try {\n        const data = await fileToArrayBuffer(file);\n        await localDB.files.add({ref, data: {blob: data, type: file.type}});\n        return true\n    }\n    catch (e) {\n        if (e.message === \"Key already exists in the object store.\") {\n            const duplicate = true; // TODO make hash comparision function\n            if (!duplicate) {\n                await writeFile(ref+'d', file);\n                return true\n            }\n        }\n        else {\n            errorHandler(e);\n        }\n    }\n}\n\nasync function readFile(ref) {\n    try {\n        let dataObj = await localDB.files.get(ref);\n        if (!dataObj) {\n            throw new Error(`Could not get data for ref: ${ref} !`)\n        }\n        return new Blob([dataObj.data.blob], {type : dataObj.data.type})\n    }\n    catch (e) {\n        errorHandler(e);\n    }\n}\nasync function readAppData() {\n    try {\n        let appData = await localDB.appData.get(0);\n        let output = false;\n        if (appData) {\n            output = JSON.parse(appData.data);\n            const fileObjs = Object.values(output.fileObjs).map(data => new FileObj({...data}));\n            output.fileObjs = {};\n            fileObjs.forEach(fileObj => output.fileObjs[fileObj.uid] = fileObj);\n        }\n        return output\n    }\n    catch (e) {\n        errorHandler(e);\n    }\n}\nasync function writeAppData(appData) {\n    try {\n        const data = JSON.stringify(appData);\n        await localDB.appData.put({ref: 0, data});\n        return true\n    }\n    catch (e) {\n        errorHandler(e);\n    }\n}\n\nfunction fileToArrayBuffer(file) {\n    const blob = new Blob([file]);\n    return new Promise((resolve, reject) => {\n        const reader = new FileReader();\n        reader.addEventListener('loadend', (e) => {\n            resolve(reader.result);\n        });\n        reader.addEventListener('error', reject);\n        reader.readAsArrayBuffer(blob);\n    });\n}\n\nexport {writeFile, readFile, readAppData, writeAppData, wipeAllData, exportData, importData}","import { readAppData, writeAppData } from './localStorage';\nexport default function AppData(handleFileObjsChange) {\n    this.fileObjsUpdate = handleFileObjsChange;\n    this.lastModified = null;\n    this.basedOn = null;\n    this.changeLog = [];\n    this.fileObjs = {};\n    this.init();\n}\nAppData.prototype.onUpdate = function() {\n    this.fileObjsUpdate();\n    writeAppData(this);\n}\nAppData.prototype.init = async function() {\n    const data = await readAppData();\n    if (data) {\n        this.clear();\n        this.rebase(data);\n    }\n}\nAppData.prototype.add = function(fileObj, log = true) {\n    log && this.changeLog.push({ func: 'add', data: fileObj });\n    this.fileObjs[fileObj.uid] = fileObj;\n    this.onUpdate();\n}\nAppData.prototype.update = function(fileObj, log = true) {\n    log && this.changeLog.push({ func: 'update', data: fileObj });\n    Object.assign(this.fileObjs[fileObj.uid], fileObj);\n    this.onUpdate();\n}\nAppData.prototype.delete = function(uid, log = true) {\n    log && this.changeLog.push({ func: 'delete', data: uid });\n    delete this.fileObjs[uid];\n    this.onUpdate();\n}\nAppData.prototype.rebase = function(newAppData) {\n    this.basedOn = newAppData.lastModified;\n    this.fileObjs = newAppData.fileObjs;\n    for (let op of this.changeLog) {\n        this[op.func](op.data, false);\n    }\n    this.changeLog = [];\n    this.onUpdate();\n}\nAppData.prototype.clear = function() {\n    this.lastModified = null;\n    this.basedOn = null;\n    this.changeLog = [];\n    this.fileObjs = {};\n    this.onUpdate();\n}\n","export default function Subscriber(stateSetter) {\n    this.stateSetter = stateSetter;\n    this.update = this.update.bind(this);\n}\nSubscriber.prototype.update = function(data) {\n    this.stateSetter(data);\n}","import Subscriber from './Subscriber';\n\nexport default function Subscription() {\n    this.list = [];\n    this.subscribe = this.subscribe.bind(this);\n    this.update = this.update.bind(this);\n    this.unsubscribe = this.unsubscribe.bind(this);\n}\nSubscription.prototype.subscribe = function(stateSetter) {\n    this.list.push(new Subscriber(stateSetter));\n}\nSubscription.prototype.unsubscribe = function(stateSetter) {\n    this.list = this.list.filter(sub => sub.stateSetter !== stateSetter);\n}\nSubscription.prototype.update = function(data) {\n    this.list.forEach(sub => sub.update(data));\n}","import AppData from './AppData';\nimport FileObj from './FileObj';\nimport errorHandler from './errorHandler';\nimport { writeFile, readFile, writeAppData, importData, exportData as exportTimeLine } from './localStorage';\nimport Subscription from './Subscription';\n\nconst appData = new AppData(handleFileObjsChange);\nasync function handleFileObjsChange() {\n    setActiveFileObjs();\n    setNodesList();\n}\n\nlet activeNode;\nfunction setActiveNode(fileObj) {\n    if (fileObj && fileObj.__proto__.hasOwnProperty('getActiveDate')) {\n        const fileObjDate = fileObj.getActiveDate();\n        if (fileObjDate) {\n            activeNode = fileObjDate.substr(0, 8);\n            setActiveFileObjs();\n        }\n    }\n    else {\n        errorHandler(Error(`Unable to setActiveNode with ${JSON.stringify(fileObj)}`));\n    }\n}\nfunction setToLatestNode() {\n    const lastFileObj = Object.values(appData.fileObjs).sort((a, b) => b.getActiveDate() - a.getActiveDate())[0];\n    lastFileObj && setActiveNode(lastFileObj);\n}\n\n\nconst nodesListSubcription = new Subscription();\nfunction setNodesList() {\n    const getPath = dateTime => [dateTime.substr(0,4), ...dateTime.substr(4).match(/.{2}/g)]; \n    const fileObjs = Object.values(appData.fileObjs);\n    const nodes = {};\n    for (let fileObj of fileObjs) {\n        const path = getPath(fileObj.getActiveDate().substr(0, 8));\n        let head = nodes;\n        for (let key of path) {\n            if (!head.hasOwnProperty(key)) {\n                if (key !== path[path.length-1]) {\n                    head[key] = {};\n                }\n                else {\n                    head[key] = [];\n                }\n            }\n            head = head[key];\n        }\n        head.push(fileObj);\n    }\n    nodesListSubcription.update(nodes);\n}\n\nlet activeFileObjs = [];\nconst fileObjsSubcription = new Subscription();\nfunction setActiveFileObjs() {\n    if (!activeNode) {\n        setToLatestNode();\n    }\n    else {\n        let from = activeNode+'000000';\n        let to = activeNode+'235959';\n        activeFileObjs = getFileObjs(from, to);\n        if (activeFileObjs.length > 0) {\n            fileObjsSubcription.update(activeFileObjs);\n        }\n        else {\n            fileObjsSubcription.update([]);\n            setToLatestNode();\n        }\n    }\n}\nfunction getFileObjs(from = '0', to = '0') {\n    return Object.values(appData.fileObjs).filter(fileObj => {\n        const key = fileObj.getActiveDate();\n        return (key.substr(0, from.length) >= from && key.substr(0, to.length) <= to)\n    }).sort((a, b) => a.getActiveDate() - b.getActiveDate());\n}\n\nasync function addFiles(uploadsArr) {\n    if (uploadsArr.length > 0) {\n        let fileObj;\n        for (let upload of uploadsArr) {\n            const ref = makeFileRef(upload.file);\n            const {name, text = '', type} = upload.file;\n            const checkedType = checkFileType(type, name);\n            if (!upload.hasOwnProperty('timeStamps')) {\n                upload.timeStamps = {};\n            } \n            upload.timeStamps.modified = upload.file.lastModified || Date.now();\n            fileObj = new FileObj({...upload, name, text, fileRef: ref, type: checkedType, size: upload.file.size});\n            const activeDate = fileObj.getActiveDate();\n            const fObjsWithSameFile = Object.values(appData.fileObjs).filter(fObj => fObj.fileRef === ref);\n            if (fObjsWithSameFile.filter(fObj => fObj.getActiveDate() === activeDate).length === 0) {\n                appData.fileObjs[fileObj.uid] = fileObj;\n            }\n            if (fObjsWithSameFile.filter(fObj => !fObj.fileMissing).length < 1) {\n                fObjsWithSameFile.forEach(fObj => fObj.fileMissing && fObj.flagMissingData(false));\n                await writeFile(ref, upload.file);\n            }\n        }\n        await writeAppData(appData);\n        setActiveNode(fileObj);\n        setNodesList();\n        return true\n    }\n    return false\n}\n\nasync function getFile(fileRef) {\n    try {\n        let file = await readFile(fileRef);\n        if (!file) {\n            // file = await - get from cloud/Google drive\n        }\n        if (!file) {\n            throw new Error(`File with ref: ${fileRef} not found!`)\n        }\n        return file\n    }\n    catch (e) {\n        errorHandler(e);\n    }\n}\n\nfunction removeFiles(fileObjs) {\n    fileObjs.forEach(fileObj => {\n        let key = fileObj.uid;\n        if (appData.fileObjs[key]) {\n        appData.delete(key);\n        return true\n    }\n    return Error(`no such file under key: ${key}`)\n    })\n}\n\nfunction makeFileRef(file) {\n    return file.name+file.size+file.lastModified\n}\n\nfunction checkFileType(type, name) {\n    if (!type) {\n        const segs = name.split('.');\n        if (segs.length > 1) {\n            return segs[segs.length-1];\n        }\n        else {\n            return \"unknown\"\n        }\n    }\n    return type\n}\n\nlet uploadsList = [];\nconst uploadsListSubcription = new Subscription();\nconst uploadFuncs = {\n    subscribe: function(stateSetter, uid) {\n        uploadsListSubcription.subscribe(stateSetter, uid);\n        uploadFuncs.set(uploadsList);\n    },\n    unsubscribe: uploadsListSubcription.unsubscribe,\n    set: function setUploadsList(arr) {\n        uploadsList = arr;\n        uploadsListSubcription.update(uploadsList);\n    },\n    submit: function submitUploadsList() {\n        addFiles(uploadsList);\n        uploadFuncs.set([]);\n    },\n    cancel: () => uploadFuncs.set([]),\n    deleteUpload: function deleteUpload(uid) {\n        const appendedUploads = uploadsList.filter(upload => upload.uid !== uid);\n        uploadFuncs.set(appendedUploads);\n    },\n    update: function updateDatesOrTags(uids, uploadMeta) {\n        const newUploadsList = uploadsList.slice(0);\n        for (let uid of uids) {\n            const index = newUploadsList.findIndex(upload => upload.uid === uid);\n            Object.assign(newUploadsList[index], {...uploadMeta, tags: uploadMeta.tags || []});\n        }\n        uploadFuncs.set([...newUploadsList]);\n    },\n    add: function addUploadsToList(newUploads) {\n        const newUploadsArr = Object.values(newUploads).map(upload => formatNewUpload(upload));\n        uploadFuncs.set([...uploadsList, ...newUploadsArr]);\n    }\n}\n\nlet newUploadCount = 0;\nfunction formatNewUpload(upload) {\n    const dateNow = Date.now();\n    return ({\n        uid: dateNow+`${++newUploadCount}`,\n        file: upload,\n    })\n}\n\nfunction updateFiles(filesArr) {\n    filesArr.forEach(fileObj => {\n        let key = fileObj.key;\n        if (appData.fileObjs[key]) {\n            Object.assign(appData.fileObjs[key], fileObj);\n            appData.update(appData.fileObjs[key]);\n            return true;\n        }    \n    })\n}\n\nasync function importTimeLine(file) {\n    await importData(file);\n    appData.init();\n    return true\n}\n\nexport {addFiles, getFile, removeFiles, nodesListSubcription, fileObjsSubcription, setActiveNode, activeNode, uploadFuncs, updateFiles, exportTimeLine, importTimeLine}\n","import React, { useState, useEffect, useRef } from 'react';\nimport styled from 'styled-components';\nimport {getFile, removeFiles} from '../services/dataController';\nimport placeholder from '../assets/placeholder.svg';\nimport trashIcon from '../assets/trashIcon.svg';\n\nconst Wrapper = styled.div`\n    max-width: 100%;\n    display: grid;\n    place-items: center center;\n`;\nconst Img = styled.img`\n    max-width: 100%;\n`;\nconst Note = styled(Wrapper)`\n    background: ${props => props.theme.offWhite};\n    min-height: 100%;\n    padding: 10%;\n    color: ${props => props.theme.darkGrey};\n    & h1 {\n        color: ${props => props.theme.darkGrey};\n    }\n`;\nconst FileIcon = styled.div`\n    max-width: 100%;\n    display: grid;\n    place-items: center center;\n    background: ${props => props.background};\n    color: ${props => props.theme.darkGrey};\n    width: 300px;\n    height: 150px;\n`;\n\nconst TrashButton = styled.button`\n    background: none;\n    outline: none;\n    border: none;\n    & img {\n        width: 50px;\n        height: 50px;\n    }\n    &:hover {\n      color: ${props => props.theme.offWhite};\n      background: ${props => props.theme.red};\n    }\n`;\n\nconst OptionsContainer = styled.div`\n    width: 50px;\n    position: absolute;\n    bottom: 10px;\n    right: 10px;\n`;\n\nconst FileContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    max-width: 50vw;\n    position: relative;\n    @media (max-width: 1000px){\n        max-width: 70vw;\n    }\n\n    @media (max-width: 500px){\n        max-width: 90vw;\n    }\n`;\n\nconst Time = styled.time`\n    color: ${props => props.theme.orange};\n    text-decoration: underline;\n    text-decoration-color: ${props => props.theme.blue};\n    padding-top: 32px;\n`;\n\nconst Link = styled.a`\n    text-decoration: none;\n    width: 100%;\n    height: 100%;\n`;\n\n\nconst FileNotFound = styled.div`\n    max-width: 100%;\n    display: grid;\n    place-items: center center;\n    background: ${props => props.theme.red};\n    color: ${props => props.theme.offWhite};\n    width: 300px;\n    height: 150px;\n    text-align: center;\n`;\n\nexport default function File({fileObj, showTime, time, isMain}) {\n    const [file, setFile] = useState(placeholder);\n    const enableEditOptions = isMain;\n    const enableDownload = isMain;\n\n    function removeFile() {\n        let selectedFile = fileObj;\n        removeFiles([selectedFile]);\n    }\n\n    const ref = useRef(null);\n\n    useEffect(() => {\n        const refCurrent = ref.current;\n        if (ref.current) {\n            let observer = new IntersectionObserver(entries => {\n                if (entries[0].isIntersecting) {\n                    getFile(fileObj.fileRef).then(blob => {\n                        let url = null\n                        if (blob) {\n                            url = URL.createObjectURL(blob);\n                        }\n                        setFile(url);\n                        if (url === null) {\n                            fileObj.flagMissingData();\n                        }\n                        observer.unobserve(ref.current);\n                    }); \n                }\n            });\n            observer.observe(ref.current); \n            return () => observer.unobserve(refCurrent);\n        }\n    }, [ref, fileObj, fileObj.fileMissing]);\n\n    const DownloadWrapper = props => {\n        const condenseSize = size => size < 1000 ? size+'B' : size < Math.pow(10, 6) ? (size/1000).toFixed(2)+'KB' : size < Math.pow(10, 9) ? (size/Math.pow(10, 6)).toFixed(2)+'MB' : (size/Math.pow(10, 9)).toFixed(2)+'GB';\nconst info = `\n${fileObj.name} \nlastModifed: ${fileObj.unFormatDate(fileObj.timeStamps.modified)} \n${fileObj.timeStamps.user ? 'userSetTime: '+fileObj.unFormatDate(fileObj.timeStamps.user)+'\\n' : ''}type: ${fileObj.type}\n${fileObj.tag?.length > 0 ? 'tags: '+fileObj.tags.join(' ')+'\\n' : ''}${fileObj.size ? 'size: '+condenseSize(fileObj.size)+'\\n' : ''}\n    \n`;\n        if (props.enabled) {\n            return <Link title={info} href={file} download={fileObj.name}>\n                {props.children}\n            </Link>\n        }\n        return props.children\n    }\n   \n    if (fileObj) {\n        return (\n            <FileContainer ref={ref} >\n                {showTime && <Time dateTime={time}>{time}</Time>}\n                {enableEditOptions &&\n                <OptionsContainer className=\"edit-options\"> \n                    <TrashButton onClick={removeFile}>\n                        <img src={trashIcon} alt='x' />\n                    </TrashButton> \n                </OptionsContainer> \n                }\n                {file === null ? <FileNotFound>File Not Found! Please upload file: {fileObj.name}</FileNotFound> :\n                <DownloadWrapper enabled={enableDownload}>\n                    {fileObj.type.includes('image') ? \n                        <Img src={file} alt=\"\" /> : \n                        fileObj.type === 'note' ? <Note className=\"note\"><h1>{fileObj.name}</h1><p>{fileObj.text}</p></Note> :\n                        <FileIcon {...charsToColour(fileObj.type)}>{fileObj.name}</FileIcon>\n                    }\n                </DownloadWrapper>}\n            </FileContainer>\n        )\n    }\n    else { \n        return <FileNotFound>File has vanished! :&lt;</FileNotFound>\n    }\n}\n\nfunction charsToColour(str, opacity = 0.8) {\n    let nineDigitStr = '';\n    let i = 0;\n    while(nineDigitStr.length < 9) {\n        nineDigitStr += str.charCodeAt(i%str.length);\n        i++;\n    }\n    let [r,g,b] = nineDigitStr.match(/.{3}/g);\n    const max255 = numStr => parseInt(numStr, 10)%255;\n    const invertN = numStr => 255 - max255(numStr);\n    return {background: `rgba(${max255(r)},${max255(g)},${max255(b)},${opacity})`, color: `rgb(${invertN(r)},${invertN(g)},${invertN(b)})`}\n}","import React from 'react';\nimport styled from 'styled-components';\nimport File from './File';\n\nconst Wrapper = styled.section`\n    max-width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-self: center;\n    justify-content: center;\n`;\n\nexport default function Node({ fileObjs, isMain = false }) {\n    let lastTime = '';\n    let output = '';\n    if (fileObjs) {\n        output = fileObjs.map(fileObj => {\n            let showTime = isMain;\n            if (isMain) {\n                var time = fileObj.getActiveDate().substr(8).match(/.{2}/g).join(':');\n                showTime = time !== lastTime;\n                lastTime = time;\n            }\n            return <File key={fileObj.uid} {...{fileObj, showTime, time, isMain}} />\n        });\n    }\n    return (\n        <Wrapper>\n            {output}\n        </Wrapper>\n    )\n}","import React, {useState, useEffect} from 'react';\nimport Node from './Node';\nimport styled from 'styled-components';\nimport { fileObjsSubcription } from '../services/dataController';\nimport plusSign from '../assets/plusSign.svg';\n\nconst Wrapper = styled.main`\n  display: grid;\n  place-items: center center;\n  margin: 2vw;\n  margin-top: 0;\n  padding-bottom: 200px;\n  & section>div {\n    margin: 8px;\n  }\n  & section .note {\n    min-width: 300px;\n  }\n  & .edit-options {\n    display: none;\n  }\n  &.editing .edit-options {\n    display: flex;\n  }\n\n  &.hidden {\n    overflow: hidden;\n    max-height: 100vh;\n  }\n  color: ${props => props.theme.darkGrey};\n`;\nconst Header = styled.header`\n  width: 100%;\n  text-align: center;\n  margin: 24px;\n  // color: ${props => props.theme.orange};\n`;\n\nconst PlusImg = styled.img`\n    height: 120px;\n    width: 120px;\n    @media (max-width: 500px){\n      height: 40px;\n      width: 40px;\n    }\n`;\n\nconst StartHelp = styled.div`\n  height: 80vh;\n  width: 80%;\n  margin-left: 10%;\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-evenly;\n  align-items: center;\n  box-sizing: border-box;\n`;\n\nfunction Main({editMode, showUploads, setShowUploads})  {\n  const [activeFileObjs, setActiveFileObjs] = useState(null);\n  useEffect(() => {\n    fileObjsSubcription.subscribe(setActiveFileObjs);\n    return () => fileObjsSubcription.unsubscribe(setActiveFileObjs);\n  }, []);\n\n  function getActiveNodeDate() {\n    const obj = activeFileObjs[0];\n    if(obj) {\n      return new Date(obj.unFormatDate(obj.getActiveDate()).substr(0, 10)).toDateString()\n    }\n  } \n\n  let output = (<>\n    <Header>\n      <StartHelp>\n      <h1>Welcome!</h1>\n      <PlusImg onClick={() => setShowUploads(true)} src={plusSign} alt=\"toggle upload modal open button\" />\n      <h2>Add some files to begin.</h2>\n      </StartHelp>\n    </Header>\n  </>);\n  if (activeFileObjs && activeFileObjs.length > 0) {\n    output = <>\n    <Header>\n      <time>{getActiveNodeDate()}</time>\n    </Header>\n    <Node fileObjs={activeFileObjs} isMain />\n    </>;\n  }\n  \n  return (\n    <Wrapper className={editMode ? 'editing' : showUploads ? \"hidden\" : ''}>\n      {output}\n    </Wrapper>\n  );\n}\n\nexport default Main;\n","import React, { useState, Fragment, useEffect } from 'react';\nimport styled from 'styled-components';\nimport Node from './Node';\nimport openTimelineIcon from '../assets/openIcon.svg';\nimport { nodesListSubcription, setActiveNode, activeNode } from '../services/dataController';\n\nconst Wrapper = styled.div`\nwidth: 100%;\nmin-height: 30vw;\nposition: fixed;\nbottom: 70px;\nleft: 0;\ndisplay: grid;\noverflow: auto;\nbackground: ${props => props.theme.greyBlueTransp};\npadding-top: 18px;\n&.contracted {\n  min-height: 94px;\n  height: 94px;\n}\n&::-webkit-scrollbar {\n  height: 8px;\n}\n&::-webkit-scrollbar-track {\n  background: ${props => props.theme.greyBlue};\n}\n&::-webkit-scrollbar-thumb {\n  background: ${props => props.theme.darkBlue};\n  border-radius: 8px;\n}\n&::-webkit-scrollbar-thumb:hover {\n  background: ${props => props.theme.lightBlue};\n}\n&.editing .edit-options {\n  display: flex;\n}\n& .edit-options {\n  display: none;\n}\nz-index: 50;\n`;\nconst Line = styled.div`\nmin-width: 100%;\ndisplay: flex;\nflex-flow: row nowrap;\njustify-content: flex-start;\n`;\nconst Title = styled.header`\nwidth: 100%;\ntext-align: center;\ndisplay: flex;\nflex-flow: row nowrap;\n// color: ${props => props.theme.darkGrey};\nfont-size: 11px;\n&::before,\n&::after {\n  display: inline-block;\n  content: '';\n  border-top: 1px solid ${props => props.theme.blue};\n  width: 50%;\n  margin: 0 12px;\n  transform: translateY(50%);\n}\n&::before {\n  border-left: 1px solid ${props => props.theme.blue};\n}\n&::after {\n  border-right: 1px solid ${props => props.theme.blue};\n}\n`;\nconst Year = styled.div`\ndisplay: grid;\ngrid-template-rows: 18px auto;\nplace-items: start center;\n`;\nconst Months = styled.div`\nwidth: 100%;\ndisplay: flex;\nflex-flow: row nowrap;\njustify-content: center;\n`;\nconst Month = styled.div`\ndisplay: grid;\ngrid-template-rows: 18px auto;\nplace-items: start center;\n`;\nconst Dates = styled.div`\nwidth: 100%;\ndisplay: flex;\nflex-flow: row nowrap;\njustify-content: stretch;\n`;\nconst DateItem = styled.div`\ndisplay: grid;\ngrid-template-rows: 18px 0;\n&.expanded {\n  grid-template-rows: 18px 20vw;\n}\nplace-items: start center;\nwidth: 10vw;\n& header {\n  // color: ${props => props.theme.darkGrey};\n  font-size: 10px;\n  text-align: center;\n}\n& section {\n  word-break: break-all;\n  display: inline-block;\n  max-height: 100%;\n  width: 100%;\n  overflow-y: auto;\n  background: ${props => props.theme.blue};\n  border-radius: 8px;\n  padding: 0.2vw;\n  &::-webkit-scrollbar {\n  width: 4px;\n  }\n  &::-webkit-scrollbar-track {\n    background: transparent;\n  }\n  &::-webkit-scrollbar-thumb {\n    background: ${props => props.theme.darkBlue};\n    border-radius: 2px;\n  }\n  &::-webkit-scrollbar-thumb:hover {\n    background: ${props => props.theme.lightBlue};\n  }\n  &>div {\n    font-size: 0.8vw;\n    height: 5vw;\n    overflow: hidden;\n    padding: 0.2vw;\n    &>div {\n      max-height: 100%;\n    }\n  }\n}\n&.active section {\n  background: ${props => props.theme.lightBlue};\n}\n`;\nconst Gap = styled.div`\nwidth: 5vw;\nplace-items: start center;\n`;\nconst Bar = styled(Gap)`\n  width: ${props => (props.wide/2)+'vw'};\n  &.expanded::before {\n    display: inline-block;\n    content: '';\n    height: 0.5vw;\n    width: 100%;\n    background: ${props => props.theme.blue};\n    position: relative;\n    top: 10.5vw;\n  }\n`;\nconst ExpandButton = styled.div`\nposition:fixed;\ncursor: pointer;\nbottom: 94px;\nright: 40px;\nwidth: 50px;\nheight: 50px;\nz-index: 100;\n&.close img {\n  transform: rotate(180deg);\n}\n`;\n\nfunction Timeline({editMode}) {\n\n  const [showNodes, setShowNodes] = useState(false);\n  const [nodesList, setNodesList] = useState(null);\n\n  useEffect(() => {\n    nodesListSubcription.subscribe(setNodesList);\n    return () => nodesListSubcription.unsubscribe(setNodesList);\n  }, []\n  )\n\n  let output = '';\n  if (nodesList && Object.keys(nodesList).length > 0) {\n    let lastDate = null;\n    const scrollTo = ref =>\n      ref.current.scrollIntoView({\n      behavior: 'smooth',\n      inline: 'center'\n    });\n    const TimeLine = <Line>\n      {Object.keys(nodesList).sort().map(year => {\n        const ref = React.createRef(); \n        return (\n          <Year ref={ref} key={year}>\n            <Title onClick={() => scrollTo(ref)}>{year}</Title>\n            <Months>\n              {Object.keys(nodesList[year]).sort().map(month => {\n                const ref = React.createRef();\n                const monthStr = new Date(`${year}-${month}-01`).toDateString().substr(4,3);\n                return (\n                  <Month ref={ref} key={year+month}>\n                    <Title onClick={() => scrollTo(ref)}>{monthStr}</Title>\n                    <Dates>\n                      <Bar wide={5} className={showNodes && 'expanded'}></Bar>\n                      {Object.keys(nodesList[year][month]).sort().map(date => {\n                        let totalBars = 0;\n                        if (lastDate) {\n                          totalBars += ((year - lastDate.year) > 0 && 10) || ((month - lastDate.month) > 0 && 5) || (date - lastDate.date > 0 && 1);\n                        }\n                        lastDate = {year,month,date};\n                        const nodeDate = new Date(`${year}-${month}-${date}`).toDateString();\n                        const ref = React.createRef();\n                        const isActive = year+month+date === activeNode;\n                        const handleClick = () => {\n                          setActiveNode(nodesList[year][month][date][0]);\n                          scrollTo(ref);\n                        }\n                        const handleLoad = () => {\n                          if (isActive) {\n                            scrollTo(ref);\n                          }\n                        }\n                        return (<Fragment key={year+month+date+totalBars}> \n                          <Bar wide={totalBars} className={showNodes && 'expanded'}></Bar>\n                          <DateItem ref={ref} className={(isActive ? 'active ' : '')+(showNodes && 'expanded')} onLoad={handleLoad} onClick={handleClick}>\n                            <header>{nodeDate.substr(0,3)+' '+nodeDate.substr(8,2)}</header>\n                            {showNodes && <Node fileObjs={nodesList[year][month][date]} />}\n                          </DateItem>\n                        </Fragment>) \n                      })}\n                    <Bar wide={5} className={showNodes && 'expanded'}></Bar>\n                    </Dates>\n                  </Month>\n                )\n              })}\n            </Months>\n          </Year>\n        )\n        \n      })} \n    </Line>;\n    output = <Wrapper className={`${!showNodes && 'contracted'} ${editMode && 'editing'}`}>\n      <ExpandButton className={showNodes && 'close'} onClick={() => setShowNodes(!showNodes)}><img src={openTimelineIcon} alt=\"close timeline\" /></ExpandButton>\n      {TimeLine}\n    </Wrapper>;\n  }\n  return output;\n}\n\nexport default Timeline;\n","import React, { useState, useRef } from 'react';\nimport styled  from 'styled-components';\nimport plusSign from '../assets/plusSign.svg';\nimport logo from './../../src/assets/wavy-logo.svg';\nimport minusSign from '../assets/minusSign2.svg';\nimport EditButton from  '../assets/trashTumbleIcon.svg';\nimport ImportButton from '../assets/importButton.svg';\nimport ExportButton from '../assets/exportButton.svg';\nimport {exportTimeLine, importTimeLine} from '../services/dataController';\n\nconst NavBarContainer = styled.div`\n    display: grid;\n    grid-template-columns: 1fr auto 5fr auto 5fr auto 1fr;\n    grid-template-areas: '. logo . buttons . importexport .';\n    justify-content: space-between;\n    place-items: center center;\n    width: 100%;\n    height: 70px;\n    background: #1B71D5;\n    opacity: 0.7;\n    position: fixed;\n    bottom: 0px;\n`;\n\nconst Logo = styled.img`\n  padding-left: 30px;\n  width: 230px;\n  height: 50px;\n  grid-area: logo;\n  @media (max-width: 800px){\n    width: 70px;\n    height: 30px;\n    align-self: center;\n    padding-left: 5px;\n  }\n`;\n\nconst ButtonContainer = styled.div`\n    display: flex;\n    flex-direction: row;\n    position: relative;\n    justify-content: center;\n    align-items: center;\n    justify-self: center;\n    width: auto;\n    grid-area: buttons;\n`;\n\nconst ToggleModalButton = styled.div`\n    display: flex;\n    height: 60px;\n    width: 60px;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    @media (max-width: 800px){\n      height: 40px;\n      width: 40px;\n    }\n`;\n\nconst PlusImg = styled.img`\n    height: 60px;\n    width: 60px;\n    @media (max-width: 800px){\n      height: 40px;\n      width: 40px;\n    }\n`;\n\nconst MinusImg = styled.img`\n    height: 60px;\n    width: 60px;\n    @media (max-width: 800px){\n      height: 40px;\n      width: 40px;\n    }\n`;\n\n\nconst EditModeButton = styled.img`\n    display: flex;\n    height: 60px;\n    width: 60px;\n    align-items: center;\n    justify-content: center;\n    margin-left: 5px;\n    cursor: pointer;\n    @media (max-width: 800px){\n      height: 40px;\n      width: 40px;\n    }\n`;\n\nconst ImportExportTools = styled.div`\n  display: flex;\n  flex-flow: row nowrap;\n  grid-area: importexport;\n`;\n\nconst ImportButtonInput = styled.input`\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute !important;\n  white-space: nowrap;\n  width: 1px;\n`;\n\nconst ImportButtonLabel = styled.label`\n  height: 60px;\n  width: 60px;\n  align-items: center;\n  justify-content: center;\n  margin-left: 5px;\n\n  @media (max-width: 800px){\n    height: 40px;\n    width: 40px;\n  }\n`;\n\nconst ImportButtonIcon = styled.img`\n  display: flex;\n  height: 60px;\n  width: 60px;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  @media (max-width: 800px){\n    height: 40px;\n    width: 40px;\n  }\n`;\n\nconst ExportButtonContainer = styled.img`\n  display: flex;\n  height: 60px;\n  width: 60px;\n  align-items: center;\n  justify-content: center;\n  margin-left: 10px;\n  cursor: pointer;\n  @media (max-width: 800px){\n    height: 40px;\n    width: 40px;\n  }\n`;\n\nconst HiddenDownloadLink = styled.a`\n  display: none;\n`;\n\nfunction NavBar({showUploads, setShowUploads, editMode, setEditMode}) {\n  const [downloadStatus, setDownloadStatus] = useState(null);\n  const downloadLinkRef = useRef();\n  \n  async function startDownload(e) {\n    if (!downloadStatus && downloadStatus !== 'inprogress') {\n      setDownloadStatus('inprogress');\n      try {\n        const file = await exportTimeLine();\n        if (file) {\n          setDownloadStatus(null);\n          const url = await URL.createObjectURL(file);\n          downloadLinkRef.current.href = url;\n          downloadLinkRef.current.download = Date.now().toString()+'.wavy';\n          downloadLinkRef.current.click();\n        }\n      }\n      catch (e) {\n        setDownloadStatus(null);\n        console.error(e);\n      }\n    }\n    return true\n  }\n\n  function handleUpload(e) {\n    importTimeLine(e.target.files[0]);\n  }\n\n  return (\n    <NavBarContainer>\n      <Logo src={logo} alt=\"Wavy logo\"/>\n      <ButtonContainer>\n        <ToggleModalButton onClick={() => setShowUploads(!showUploads)}>\n          {\n            !showUploads ?\n            <PlusImg src={plusSign} alt=\"toggle upload modal open button\" /> : \n            <MinusImg  src={minusSign} alt=\"toggle upload modal closed button\" />  \n          } \n        </ToggleModalButton>\n        <EditModeButton alt=\"Edit\" src={EditButton} onClick={() => setEditMode(!editMode)} />\n      </ButtonContainer>\n      <ImportExportTools>\n        <ImportButtonInput type=\"file\" id=\"file\" accept=\".wavy\" onChange={handleUpload} />\n        <ImportButtonLabel htmlFor=\"file\">\n          <ImportButtonIcon src={ImportButton} alt=\"import a timeline file\" />\n        </ImportButtonLabel> \n        <ExportButtonContainer src={ExportButton} onClick={startDownload} alt=\"export a timline file\" />\n        <HiddenDownloadLink ref={downloadLinkRef} />\n      </ImportExportTools>\n    </NavBarContainer>\n  );\n}\n\nexport default NavBar;\n","import React, { useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport EditorIcon from '../assets/dateAndTagsIcon.svg';\nimport { uploadFuncs } from '../services/dataController';\n\nconst { update } = uploadFuncs;\n\nconst EditorBox = styled.div`\n  position: relative;\n`;\n\nconst Img = styled.img`\n  width: ${props => props.isGlobal ? \"100px\" : \"60px\"};\n`;\n\nconst baseCss = css`\n  border: none;\n  padding: 0.5rem;\n  margin: 0.5rem;\n  background: ${props => props.theme.lightGrey};\n`;\n\nconst EditorForm = styled.div`\n  width: 280px;\n  margin: auto;\n  padding: 1rem;\n  background: ${props => props.theme.grey};\n  text-align: right;\n  position: absolute;\n  top: 2.2rem;\n  right: 0;\n  z-index: 999;\n`;\n\nconst Label = styled.label``;\nconst LineBreak = styled.br``;\n\nconst Select = styled.select`\n${baseCss};\n`;\n\nconst Option = styled.option`\n${baseCss};\n`;\n\nconst Input = styled.input`\n${baseCss};\n  ${props => props.type === \"text\" && css`\n    padding: 0.6rem;\n  `}\n`;\n\nconst TagLists = styled.ul`\n  padding: none;\n`;\n\nconst Tag = styled.li`\n  color: ${props => props.theme.lightGrey};\n  background: ${props => props.theme.darkGrey};\n  display: inline-block;\n  padding: 0.2rem 0.5rem;\n  font-size: 0.8rem;\n  border-radius: 3px;\n  margin: 0.5rem 0.5rem auto auto;\n`;\n\nconst DeleteBtn = styled.span`\n  cursor: pointer;\n  color: ${props => props.theme.greyBlue};\n  font-weight: 700;\n  font-size: 1rem;\n  margin-left: 0.3rem;\n  \n  &:hover {\n    color: ${props => props.theme.red};\n  }\n`;\n\nfunction DateAndTagsEditor({ uploads, isGlobal = false }) {\n  const uids = uploads.map(upload => upload.uid);\n  const [isOpen, setIsOpen] = useState(false);\n  const [values, setValues] = useState({\n    activeTimeStamp: uploads.activeTimeStamp || \"modified\",\n    user: (uploads.timeStamps && uploads.timeStamps.user) || formatForyyyyMMdd(Date.now()),\n    modified: uploads[0].file.lastModified || (uploads.timeStamps && uploads.timeStamps.modified) || Date.now(),\n    time: formatForHHMM((uploads.timeStamps && uploads.timeStamps.user) || Date.now()) || '00:00',\n    tags: uploads.tags || []\n  });\n  const [tags, setTags] = useState([...new Set(uploads.map(upload => upload.tag).filter(tag => tag))]);\n  const removeTag = tag => setTags( [...tags.slice(0, tags.indexOf(tag)), ...tags.slice(tags.indexOf(tag)+1)] );\n\n  const handleCustomValueChange = e => {\n    let { name, value } = e.target;\n    if (name === 'tags') {\n      if (value.match(/,/g) || e.key === \"Enter\") {\n        const cleanedValue = value.replace(/^\\s+|,|\\s+$/g, '');\n        if (cleanedValue !== \"\") {\n          const newTags = [...new Set([...tags, cleanedValue])];\n          setTags(newTags);\n          update(uids, { tags: newTags });\n        }\n        value = '';\n      }\n      setValues({ ...values, tags: value });\n    }\n    if (name === 'user') {\n      setValues({ ...values, user: value, activeTimeStamp: 'user'});\n      const userDatePlusTime = formatForyyyyMMdd(value)+' '+formatForHHMM(values['time']);\n        if (userDatePlusTime) {\n        update(uids, {activeTimeStamp: 'user', timeStamps: { user: userDatePlusTime }});\n      }\n    }\n    else if (name === 'time') {\n      setValues({ ...values, time: value });\n      const userDatePlusTime = formatForyyyyMMdd(values['user'])+' '+formatForHHMM(value);\n      if (userDatePlusTime) {\n        update(uids, {timeStamps: { user: userDatePlusTime }});\n      }\n    }\n    else if (name === 'activeTimeStamp') {\n      setValues({ ...values, activeTimeStamp: value });\n      update(uids, {activeTimeStamp: value});\n      if (value === 'user') {\n        update(uids, {timeStamps: { user: values.user }});\n      } \n    } \n  }\n\n  return (\n    <EditorBox>\n      <Img src={EditorIcon} isGlobal={isGlobal}\n        onClick={() => setIsOpen(isOpen === false ? true : false)}\n      /> \n      {isOpen && \n        <EditorForm>\n          <Select name=\"activeTimeStamp\" ariaLabel=\"Select date to use\" onChange={handleCustomValueChange} value={values.activeTimeStamp}>\n            <Option value=\"modified\">Date Modified</Option>\n            <Option value=\"user\">Custom Date</Option>\n          </Select>\n          <LineBreak />\n      {values.activeTimeStamp === 'modified' ? <>\n        <Input\n            type=\"date\"\n            value={formatForyyyyMMdd(values.modified)}\n            onChange={handleCustomValueChange}\n            disabled\n        /> \n        <Input\n          type=\"time\"\n          value={formatForHHMM(values.modified)}\n          onChange={handleCustomValueChange}\n          disabled\n        /> \n      </> : \n          <>\n            <Input\n                type=\"date\"\n                name=\"user\"\n                value={formatForyyyyMMdd(values.user)}\n                onChange={handleCustomValueChange}\n            /> \n            <Input\n              type=\"time\"\n              name=\"time\"\n              value={formatForHHMM(values.time)}\n              onChange={handleCustomValueChange}\n            /> \n          </>}\n          <LineBreak />\n              <Label>Tags:  \n                <Input\n                  type=\"text\"\n                  name=\"tags\"\n                  value={ values.tags }\n                  placeholder=\"Enter tags...\"\n                  onChange={handleCustomValueChange}\n                  onKeyPress={handleCustomValueChange}\n                />\n              </Label> \n              <LineBreak />\n          <TagLists>\n            {tags.map(tag => <Tag key={tag}>{tag}<DeleteBtn ariaLabel=\"Delete tag\" onClick = {() => removeTag(tag)}>&times;</DeleteBtn></Tag>)}\n            </TagLists>\n        </EditorForm>\n      }\n      </EditorBox>\n  );\n}\n\nexport default DateAndTagsEditor;\n\nconst makeMinTwoDigits = n => {\n  const str = n+'';\n  return str.length === 1 ? '0'+str : str\n};\nfunction formatForyyyyMMdd(date) {\n  const d = new Date(date);\n  const output = d.getFullYear() + '-' +\n      makeMinTwoDigits(d.getMonth()+1) + '-' +\n      makeMinTwoDigits(d.getDate());\n  if (output.match(/^\\d{4}-\\d{2}-\\d{2}$/)) {\n    return output\n  }\n  else {\n    return date\n  }\n}\n\nfunction formatForHHMM(date) {\n  const d = new Date(date);\n  const output = makeMinTwoDigits(d.getHours()) + ':' +\n  makeMinTwoDigits(d.getMinutes());\n  if (output.match(/^\\d\\d:\\d\\d$/)) {\n    return output\n  }\n  else {\n    return date\n  }\n}\n\n\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(-256 -911)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M6.5,0,13,8H0Z\",\n  transform: \"translate(256 924) rotate(-90)\",\n  fill: \"#fff\"\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  width: 24,\n  height: 4,\n  transform: \"translate(263 916)\",\n  fill: \"#fff\"\n}));\n\nvar SvgBackArrow = function SvgBackArrow(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 31,\n    height: 13,\n    viewBox: \"0 0 31 13\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgBackArrow, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/back-arrow.cef689aa.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"text\", {\n  id: \"_\",\n  \"data-name\": \"\\\\u2713\",\n  transform: \"translate(0 44)\",\n  fill: \"#58ed15\",\n  fontSize: 45,\n  fontFamily: \"LucidaGrande, Lucida Grande\"\n}, /*#__PURE__*/React.createElement(\"tspan\", {\n  x: 0,\n  y: 0\n}, \"\\u2713\"));\n\nvar SvgCompletionTick = function SvgCompletionTick(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 35,\n    height: 53,\n    viewBox: \"0 0 35 53\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCompletionTick, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/completionTick.7c2c771b.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport { uploadFuncs } from '../services/dataController'; \nimport { ReactComponent as BackArrow } from './../assets/back-arrow.svg';\nimport { ReactComponent as TickIcon } from './../assets/completionTick.svg';\n// import DateAndTagsEditor from './DateAndTagsEditor';\n\nconst { add } = uploadFuncs;\n\nconst ModalWindow = styled.section`\n  width: 100vw;\n  height: 100vh;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: ${props => props.theme.greyBlueTransp};\n`;\n\nconst NotesForm = styled.div`\n  max-width: 414px;\n  margin: auto;\n  background: ${props => props.theme.lightGrey};\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 0.5rem 2rem 2rem;\n  position: relative;\n  z-index: 60;\n  top: 20px;\n`;\n\nconst formControlBase = css`\n  padding: 0.8rem;\n  margin-top: 1rem;\n  border: none;\n  width: 100%;\n`;\nconst Input = styled.input`\n  ${formControlBase};\n`;\n\nconst Button = styled.button`\n  ${formControlBase}\n  background: ${props => props.theme.blue};\n  width: 100%;\n  outline: none;\n`;\n\nconst NotesArea = styled.textarea`\n  height: 30vh;\n  ${formControlBase};\n`;\n\nconst AddNoteModal = ({ close }) => {\n  const [notesTitle, setNotesTitle] = useState(\"\");\n  const [notesBody, setNotesBody] = useState(\"\");\n  \n  const submit = () => {\n    const note = {\n      name: notesTitle,\n      text: notesBody,\n      type: 'note'\n    };\n    add([note]);\n    close();\n  }\n  const hasNotes = notesTitle !== \"\" && notesBody !== \"\";\n\n  return (\n    <ModalWindow>\n      <NotesForm>\n        <Input type=\"text\"\n          name=\"title\"\n          id=\"title\" \n          placeholder=\"Title\"\n          ariaLabel=\"Title\"\n          value={ notesTitle }\n          onChange={ e => setNotesTitle(e.target.value) }\n        />\n        <NotesArea type=\"text-area\"\n          name=\"notes\"\n          id=\"notes\"\n          placeholder=\"Enter your notes here\"\n          ariaLabel=\"Notes area\"\n          value={ notesBody }\n          onChange={ e => setNotesBody(e.target.value) }\n        />\n          <Button\n          type={hasNotes ? \"submit\" : \"button\"}\n          onClick={hasNotes ? submit : close}>{hasNotes ? <TickIcon /> : <BackArrow />}\n        </Button>\n        </NotesForm>\n    </ModalWindow>\n    );\n}\n \nexport default AddNoteModal;\n\n \n\n","import React , {useState, useEffect} from 'react';\nimport styled from 'styled-components';\nimport DateAndTagsEditor from './DateAndTagsEditor';\nimport { uploadFuncs } from '../services/dataController';\nimport AddNoteModal from './AddNoteModal';\nimport completionTick from '../assets/completionTick.svg';\nimport trashIcon from '../assets/trashIcon.svg';\n\nconst { add, submit, subscribe, deleteUpload, unsubscribe } = uploadFuncs;\n\nconst ModalWindow = styled.section`\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: ${props => props.theme.greyBlueTransp};\n`;\n\nconst UploadModalWrapper = styled.div`\n  max-width: 414px;\n  margin: auto;\n  padding: 1rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background: ${props => props.theme.lightGrey};\n  position: relative;\n  z-index: 60;\n  top: 20px;\n`;\n\nconst AddedFiles = styled.div`\n  min-height: 52vh;\n  position: relative;\n  top: -16px;\n  width: 108%;\n  background-color: ${props => props.theme.offWhite};\n  padding: 1rem;\n  margin-bottom: 7px;\n  display: grid;\n  grid-template-rows: 40px auto 40px;\n  // justify-content: center;\n`;\n\nconst ModalTitle = styled.h2`\n  text-transform: uppercase;\n  margin-bottom: 1.5rem;\n  text-align: center;\n  color: ${props => props.theme.orange};\n`;\n\nconst FileList = styled.ul`\n  list-style-type: none;\n  padding: 0;\n`;\n\nconst FileItem = styled.li`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  border-bottom: 1px solid ${props => props.theme.lightGrey};\n  padding: 0.5rem;\n  margin-left: 15px;\n  margin-right: 15px;\n`;\n\nconst FileName = styled.p`\n  flex-basis: 50%;\n`;\n\nconst DeleteButton = styled.div`\n  border-radius: 5px;\n  & img {\n    width: 30px;\n    height: 30px;\n  }\n  &:hover {\n    color: ${props => props.theme.offWhite};\n    background: ${props => props.theme.red};\n  }\n`;\n\nconst GlobalWrapper = styled.div`\n  justify-self: center;  \n  margin-top: 10px;\n  margin-bottom: 10px;\n`;\n\nconst Button = styled.button`\n  padding: 0.8rem;\n  border: none; \n  outline: none;\n  width: 70%;\n  color: ${props => props.theme.offWhite};\n  background: ${props => props.theme.blue};\n  box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);\n`;\n\nconst ButtonGroup = styled.div`\n  margin: 1rem auto;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n`;\n\nexport const ToolsGroups = styled.div`\n    display: flex;\n    flex-direction: row;\n    width: 70%;\n    margin-top: 5px;\n    justify-content: space-between;\n    align-items: center;\n    place-self: bottom center;\n\n`;\n\nconst AddNoteButton = styled.div`\n  width: 120px;\n  height: 60px;\n  padding: 1px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-family: 'Proza Libre', sans-serif;\n  background-color: white;\n  opacity: 0.9;\n  color: #EA9713;\n  font-size: 15px;\n  cursor: pointer;\n  -webkit-transition-duration: 0.4s; /* Safari */\n  transition-duration: 0.4s;\n  box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);\n `;\n\nexport const FileUploadInput = styled.input`\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute !important;\n  white-space: nowrap;\n  width: 1px;\n`;\n\nexport const FileUploadLabel = styled.label`\n  width: 120px;\n  height: 60px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 1px;\n  font-family: 'Proza Libre', sans-serif;\n  background: white;\n  opacity: 0.9;\n  color: #EA9713;\n  font-size: 15px;\n  cursor: pointer;\n  -webkit-transition-duration: 0.4s; /* Safari */\n  transition-duration: 0.4s;\n  box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);\n`;\n\nconst Img = styled.img`\n  height: 40px;\n  padding: none;\n`;\n\nconst getShortName = fileName =>  fileName.length <= 23 ? fileName : fileName.substr(0, 20) + \"...\";\n\nfunction UploadModal({close}) {\n  const [noteModalOpen, setNoteModalOpen] = useState(false);\n  const [uploads, setUploads] = useState([]);\n  useEffect(() => {\n    subscribe(setUploads);\n    return () => unsubscribe(setUploads)\n  }, []);\n\n  function handleOnChange(e) {\n    const files = e.target.files;\n    add(files);\n  }\n\n  const modal = (<>\n    <ModalWindow>\n      <UploadModalWrapper>\n        <AddedFiles>\n          <ModalTitle>{uploads.length < 1 ? \"Upload some file(s)\" : \"Uploads\"}</ModalTitle>\n          <FileList>\n            {uploads.map(upload =>\n              <FileItem key={upload.uid}>\n                <FileName>{getShortName(upload.file.name).toLowerCase()}</FileName>\n                <DateAndTagsEditor {...{ uploads: [upload] }}/>\n                <DeleteButton onClick={ () => deleteUpload(upload.uid) } aria-label=\"Delete upload\">\n                  <img src={trashIcon} alt='x' />\n                </DeleteButton>\n              </FileItem>)}\n          </FileList>\n          {uploads.length > 1 && <GlobalWrapper><DateAndTagsEditor  {...{ uploads }} isGlobal></DateAndTagsEditor></GlobalWrapper>}\n        </AddedFiles>\n\n        <ToolsGroups>\n            <FileUploadInput type=\"file\" id=\"file\" onChange={handleOnChange} multiple/> \n            <FileUploadLabel htmlFor=\"file\">ADD FILES</FileUploadLabel>\n            <AddNoteButton onClick={() => setNoteModalOpen(true)}>ADD NOTE</AddNoteButton>\n          </ToolsGroups>\n\n        <ButtonGroup>\n          <Button onClick={() => {submit(); close();}}><Img src={completionTick} alt='green tick' /></Button>\n        </ButtonGroup>\n        \n      </UploadModalWrapper>\n    </ModalWindow>\n  </>);\n\n  return noteModalOpen ? <AddNoteModal close={() => setNoteModalOpen(false)}/> : modal;\n}\n \nexport default UploadModal;\n","import { createGlobalStyle } from 'styled-components';\n\nexport const theme = {\n  red: \"#FC5F6B\",\n  blue: \"#12A7EA\",\n  darkBlue: \"#1B71D5\",\n  veryDarkBlue: \"#1B71D5\",\n  greyBlue: \"#AEC1D5\",\n  lightBlue: \"#D6F3FF\",\n  blueGradient: \"#5574f7-#60C3FF\",\n  grey: \"#BCC5D3\",\n  lightGrey: \"#E2E8ED\",\n  darkGrey: \"#707070\",\n  white: \"#FFFFFF\",\n  offWhite: \"#F6F6F6\",\n  orange: \"#EA9713\",\n  green:\"#58ED15\",\n  greyBlueTransp: \"rgba(174,193,213,0.75)\",\n  darkBlueTransp: \"rgba(27,113,213,0.6)\"\n}\n\nconst GlobalStyle = createGlobalStyle`\n*,\n*::before,\n*::after {\n  box-sizing: border-box;\n  margin: 0;\n}\n\nbody {\n  font-family: 'Lato', sans-serif;\n  font-size: 16px;\n}\n\nh1, h2, h3, h4, h5, h6 {\n  font-family: 'Proza Libre', sans-serif;\n  font-weight: 600;\n  color: ${theme.orange};\n}\n\nheader {\n  color: ${theme.orange};\n}\n`;\n\nexport default GlobalStyle;\n\n","import React, {useState} from 'react';\nimport Main from './components/Main';\nimport Timeline from './components/Timeline';\nimport NavBar from './components/NavBar';\nimport UploadModal from './components/UploadModal';\nimport {ThemeProvider} from 'styled-components';\nimport GlobalStyle, {theme} from './theme/globalStyles';\n\nfunction App() {\n  const [editMode, setEditMode] = useState(false);\n  const [showUploads, setShowUploads] = useState(false);\n\n  return (\n    <>\n      <GlobalStyle />\n      <ThemeProvider theme={theme}>\n        {showUploads && <UploadModal close={() => setShowUploads(false)} />}\n        <Main {...{editMode, showUploads, setShowUploads}} />\n        <nav>\n          <Timeline {...{editMode}} />\n          <NavBar {...{showUploads, setShowUploads, editMode, setEditMode}} />\n        </nav>\n      </ThemeProvider>\n    </>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.register();\n"],"sourceRoot":""}